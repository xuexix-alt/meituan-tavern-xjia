<head><script type="module">var e={400:(e,t)=>{t.A=(e,t)=>{const l=e.__vccOpts||e;for(const[e,o]of t)l[e]=o;return l}}},t={};const l=Vue,o=['data-theme'],a={class:'header-section'},n={key:0,class:'progress-bar-container'},c={class:'progress-info'},s={class:'progress-text'},r={class:'progress-count'},i={class:'progress-bar'},u={class:'info-layout'},d={class:'global-info-bar'},v={class:'info-item chapter'},m={class:'info-content'},g={class:'text'},p={class:'info-item time'},h={class:'info-content'},f={class:'text'},E={class:'info-item location'},N={class:'info-content'},V={class:'text'},y={class:'photo-section'},k={key:0,class:'loading-spinner'},b=['src','alt'],w={key:2,class:'photo-placeholder'},B={key:3,class:'photo-placeholder'},x={class:'photo-caption'},C={class:'char-name'},D=['title'],L={class:'content-section'},S={class:'info-grid'},I={class:'card full-width character-selector-card'},M={class:'tabs-nav'},R=['onClick'],U={key:0,class:'card full-width thought-card'},j={class:'text-box thought'},O={key:1,class:'card full-width action-card'},T={class:'text-box action'},A={class:'card info-card two-column-split'},P={class:'detail-list'},F={class:'label'},G={class:'value'},H={class:'card appearance-card two-column-split'},K={class:'appearance-list'},q={class:'appearance-label'},W={class:'appearance-text'},J={key:1,class:'empty-state'},Q={key:0},X={key:1},Y={key:2},Z={key:3},ee={class:'modal-header'},te={class:'form-group'},le=(0,l.defineComponent)({__name:'App',setup(e){const t=async(e,t=0,l=30,o)=>{const a=['https://fastly.jsdelivr.net/gh/xuexix-alt/meituan-tavern-xjia/image','https://gcore.jsdelivr.net/gh/xuexix-alt/meituan-tavern-xjia/image','https://testingcf.jsdelivr.net/gh/xuexix-alt/meituan-tavern-xjia/image'];let n=null;for(const c of a)try{console.log(`[ÂõæÁâá] üîÑ Â∞ùËØï‰ΩøÁî®ÈïúÂÉè: ${c}`);const a=[];0===t&&a.push({url:`${c}/${encodeURIComponent(e)}.jpg`,name:`${e}.jpg`});for(let o=Math.max(1,t);o<=l;o++)a.push({url:`${c}/${encodeURIComponent(e)}${o}.jpg`,name:`${e}${o}.jpg`});const n=0===t&&30===l?'ÂÖ®ÈÉ®ÂõæÁâáÔºà0-30Ôºâ':`Á¨¨${t}-${l}Âº†`;console.log(`[ÂõæÁâá] üîç ÂºÄÂßãÂä†ËΩΩ "${e}" ÁöÑ${n}...`);const s=await Promise.allSettled(a.map(async({url:e,name:t})=>{const l=await le(e,t);return l&&o&&o(1),l})),r=[];let i=0;if(s.forEach((e,t)=>{'fulfilled'===e.status&&e.value?(r.push(e.value),console.log(`[ÂõæÁâá] ‚úÖ ÊàêÂäüÂä†ËΩΩ: ${a[t].name}`)):i++}),i>0&&console.log(`[ÂõæÁâá] ‚è≠Ô∏è  ÂÖ∂‰Ωô ${i} ‰∏™ËØ∑Ê±ÇÊó†ÂõæÁâáÊñá‰ª∂ÔºàÂ±ûÊ≠£Â∏∏ÊÉÖÂÜµÔºâ`),console.log(`[ÂõæÁâá] üìä ÊàêÂäüÊâæÂà∞ ${r.length} Âº†ÂèØÁî®ÂõæÁâáÔºàÊâ´ÊèèËåÉÂõ¥Ôºö${a.length} ‰∏™ URLÔºâ`),r.length>0)return console.log(`[ÂõæÁâá] ‚úÖ ‰ΩøÁî®ÈïúÂÉè "${c}" Âä†ËΩΩÊàêÂäü`),r}catch(e){n=e,console.warn(`[ÂõæÁâá] ‚ö†Ô∏è ÈïúÂÉèÂ§±Ë¥•: ${c}`,n.message);continue}return console.error(`[ÂõæÁâá] ‚ùå ÊâÄÊúâ CDN ÈïúÂÉèÈÉΩÊó†Ê≥ïÂä†ËΩΩ "${e}"`,n),[]},le=(e,t)=>new Promise(t=>{fetch(e,{mode:'cors'}).then(e=>{if(!e.ok)throw new Error(`HTTP ${e.status}`);return e.blob()}).then(e=>{const l=URL.createObjectURL(e);t(l)}).catch(e=>{t(null)})}),oe=async()=>{try{return new Promise((e,t)=>{const l=indexedDB.open('TavernImageCache',1);l.onerror=()=>{console.warn('[Êï∞ÊçÆÂ∫ì] ‚ùå IndexedDB ÊâìÂºÄÂ§±Ë¥•'),t(l.error)},l.onsuccess=()=>{const t=l.result;console.log('[Êï∞ÊçÆÂ∫ì] ‚úÖ IndexedDB Â∑≤ÂàùÂßãÂåñ'),e(t)},l.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains('images')||(t.createObjectStore('images',{keyPath:'roleName'}),console.log('[Êï∞ÊçÆÂ∫ì] üì¶ ÂàõÂª∫ images ÂØπË±°Â≠òÂÇ®'))}})}catch(e){return console.warn('[Êï∞ÊçÆÂ∫ì] ‚ùå ÂàùÂßãÂåñÂ§±Ë¥•:',e),null}};let ae=null;const ne=async(e,t)=>{try{return!(!ae&&(ae=await oe(),!ae))&&new Promise(l=>{const o=ae.transaction(['images'],'readwrite').objectStore('images').put({roleName:e,blob:t});o.onsuccess=()=>{console.log(`[Êï∞ÊçÆÂ∫ì] üíæ Â∑≤‰øùÂ≠ò "${e}" Âà∞ IndexedDB`),l(!0)},o.onerror=()=>{console.warn(`[Êï∞ÊçÆÂ∫ì] ‚ùå ‰øùÂ≠òÂ§±Ë¥•: ${e}`),l(!1)}})}catch(e){return console.warn('[Êï∞ÊçÆÂ∫ì] ‚ùå ‰øùÂ≠òÂ§±Ë¥•:',e),!1}},ce=async e=>{try{const l=await(async e=>{try{return ae||(ae=await oe(),ae)?new Promise(t=>{const l=ae.transaction(['images'],'readonly').objectStore('images').get(e);l.onsuccess=()=>{if(l.result&&l.result.blob){const o=l.result.blob,a=o.size;console.log(`[Êï∞ÊçÆÂ∫ì] ‚úÖ ‰ªé IndexedDB Ëé∑Âèñ "${e}" ÁöÑÂõæÁâá (${(a/1024).toFixed(2)} KB)`),0===a&&console.warn(`[Êï∞ÊçÆÂ∫ì] ‚ö†Ô∏è Ë≠¶Âëä: "${e}" ÁöÑ Blob Êï∞ÊçÆ‰∏∫Á©∫ (0 bytes)`),t(o)}else console.log(`[Êï∞ÊçÆÂ∫ì] ‚ÑπÔ∏è "${e}" Âú® IndexedDB ‰∏≠Êó†Êï∞ÊçÆ`),t(null)},l.onerror=()=>{console.warn(`[Êï∞ÊçÆÂ∫ì] ‚ùå Êü•ËØ¢Â§±Ë¥•: ${e}`),t(null)}}):null}catch(e){return console.warn('[Êï∞ÊçÆÂ∫ì] ‚ùå Ëé∑ÂèñÂ§±Ë¥•:',e),null}})(e);if(l&&l.size>0){const e=URL.createObjectURL(l);return console.log('[ÂõæÁâá] ‚úÖ ‰ΩøÁî® IndexedDB ÁºìÂ≠òÔºàÊó†ÈúÄÈáçÊñ∞Âä†ËΩΩÔºâ'),e}l&&0===l.size&&console.warn('[ÂõæÁâá] ‚ö†Ô∏è IndexedDB ÁºìÂ≠òË¢´ÊçüÂùèÔºà0 bytesÔºâÔºåÂà†Èô§Âπ∂ÈáçÊñ∞Âä†ËΩΩ...'),console.log(`[ÂõæÁâá] üì° ÁºìÂ≠òÊú™ÂëΩ‰∏≠ÔºåÊ≠£Âú®Âä†ËΩΩ "${e}" ÁöÑÂõæÁâá...Ôºà‰ΩøÁî®Âπ∂Ë°åÂä†ËΩΩÔºåÈÄüÂ∫¶Êõ¥Âø´Ôºâ`);const o=await t(e);if(0===o.length)return console.log(`[ÂõæÁâá] ‚ùå "${e}" Ê≤°ÊúâÊâæÂà∞‰ªª‰ΩïÂõæÁâáÊñá‰ª∂`),null;const a=Math.floor(Math.random()*o.length),n=o[a];console.log(`[ÂõæÁâá] üé≤ ‰ªé ${o.length} Âº†ÂõæÁâá‰∏≠ÈöèÊú∫ÈÄâÊã©Á¨¨ ${a+1} Âº†Ôºà${n?'ÊàêÂäü':'Â§±Ë¥•'}Ôºâ`);const c=new Promise(t=>{fetch(n).then(e=>e.blob()).then(l=>{l.size>0?(console.log(`[ÂõæÁâá] üíæ Ê≠£Âú®‰øùÂ≠ò "${e}" Âà∞ IndexedDB (${(l.size/1024).toFixed(2)} KB)...`),ne(e,l).then(()=>t()).catch(e=>{console.warn('[Êï∞ÊçÆÂ∫ì] ÂêéÂè∞‰øùÂ≠òÂ§±Ë¥•:',e),t()})):(console.warn('[ÂõæÁâá] ‚ö†Ô∏è Êó†Ê≥ï‰øùÂ≠òÁ©∫ BlobÔºåË∑≥Ëøá IndexedDB ÁºìÂ≠ò'),t())}).catch(e=>{console.warn('[Êï∞ÊçÆÂ∫ì] ÂêéÂè∞‰øùÂ≠òÂ§±Ë¥•ÔºàËØªÂèñÂ§±Ë¥•Ôºâ:',e),t()})});return o.forEach((e,t)=>{t!==a&&URL.revokeObjectURL(e)}),c.catch(()=>{}),n}catch(e){return console.warn('[ÂõæÁâá] Ëé∑ÂèñÂõæÁâáÂ§±Ë¥•:',e),null}},se=(0,l.ref)(null),re=(0,l.ref)({Á´†ËäÇ:'Á§∫‰æãÁ´†ËäÇ',Êó∂Èó¥:'Á§∫‰æãÊó∂Èó¥',ÂΩìÂâçÂú∞ÁÇπ:'Á§∫‰æãÂú∞ÁÇπ',ËßíËâ≤:{ÈôÜÂâØÂéÇÈïø:{Âπ¥ÈæÑ:25,Ë∫´‰ªΩ:'Á§∫‰æãË∫´‰ªΩ',‰∏éuserÂÖ≥Á≥ª:'Á§∫‰æãÂÖ≥Á≥ª',ÊâÄÂ§Ñ‰ΩçÁΩÆ:'Á§∫‰æã‰ΩçÁΩÆ',ÂΩìÂâçÊÉ≥Ê≥ï:'Á§∫‰æãÊÉ≥Ê≥ïÔºöËØ∑Âú®ÈÖíÈ¶Ü‰∏≠ÂÆâË£ÖÈÖíÈ¶ÜÂä©ÊâãÊâ©Â±ï‰ª•Ëé∑ÂèñÂÆûÊó∂Êï∞ÊçÆ',ÂßøÂäø:'Á§∫‰æãÂßøÂäø',Ë°£ÁùÄ:'Á§∫‰æãË°£ÁùÄ',ËÉ∏‰π≥:'Á§∫‰æãËÉ∏‰π≥',ÂÜÖË°£:'Á§∫‰æãÂÜÖË°£',ÁßÅÂ§Ñ:'Á§∫‰æãÁßÅÂ§Ñ',ÈûãË¢ú:'Á§∫‰æãÈûãË¢ú',ÁÖßÁâá:'image/ÈôÜÂâØÂéÇÈïø'}}}),ie=(0,l.ref)(''),ue=(0,l.ref)(!1),de=(0,l.ref)(localStorage.getItem('tavern_helper_theme')||'default'),ve=(0,l.ref)(!1),me=(0,l.ref)(0),ge=(0,l.ref)(0),pe=(0,l.ref)(!1),he=(0,l.ref)(''),fe=(0,l.computed)(()=>Object.keys(re.value.ËßíËâ≤||{})),Ee=(0,l.computed)(()=>fe.value.length>0),Ne=(0,l.computed)(()=>{if(!ie.value)return null;const e=fe.value.indexOf(ie.value);if(-1===e)return null;const t=$e(ie.value,e),l=Ce.value.get(t);return{imageKey:t,images:l||[],currentIndex:De.value.get(t)||0,total:l?.length||0,hasMultiple:(l?.length||0)>1}}),Ve=(0,l.ref)(!1),ye=(0,l.computed)(()=>!!Ve.value&&(Be.value,!0)),ke=((0,l.computed)(()=>fe.value.length>0?fe.value[0]:''),(0,l.computed)(()=>fe.value.map(e=>we(e)))),be=(0,l.computed)(()=>{if(!ie.value)return null;const e=re.value.ËßíËâ≤?.[ie.value];return console.log(`[Êï∞ÊçÆ] ‰ªé"${ie.value}"Ëé∑ÂèñÊï∞ÊçÆ`),e||null}),we=e=>e?e.trim():'',$e=(e,t)=>0===t?'ÈôÜÂâØÂéÇÈïø':we(e),Be=(0,l.ref)('');let xe=null;(0,l.watch)(Be,(e,t)=>{xe&&(clearTimeout(xe),xe=null),t&&t.startsWith('blob:')&&(xe=setTimeout(()=>{try{URL.revokeObjectURL(t),console.log(`[Ê∏ÖÁêÜ] Â∑≤ÈáäÊîæÊóß Blob URL: ${t.substring(0,50)}...`)}catch(e){console.warn('[Ê∏ÖÁêÜ] ÈáäÊîæ Blob URL Â§±Ë¥•:',e)}xe=null},500))});const Ce=(0,l.ref)(new Map),De=(0,l.ref)(new Map),Le=async(e,l,o)=>{try{const a=e=>{me.value+=e},n=await t(e,l,o,a);if(0===n.length)return void console.log(`[È¢ÑÂä†ËΩΩ] ‚ö†Ô∏è "${e}" ËåÉÂõ¥${l}-${o}Ê≤°ÊúâÂèØÁî®ÂõæÁâá`);const c=Ce.value.get(e)||[];Ce.value.set(e,[...c,...n]),console.log(`[È¢ÑÂä†ËΩΩ] ‚úÖ "${e}" ËåÉÂõ¥${l}-${o}Âä†ËΩΩÂÆåÊàê (${n.length}Âº†)`);for(const t of n)fetch(t).then(e=>e.blob()).then(t=>{t.size>0&&ne(e,t).catch(()=>{})}).catch(()=>{})}catch(t){console.warn(`[È¢ÑÂä†ËΩΩ] ‚ùå È¢ÑÂä†ËΩΩ "${e}" ËåÉÂõ¥${l}-${o}Â§±Ë¥•:`,t)}},Se=async()=>{try{const e=ie.value,l=fe.value.indexOf(e);if(-1===l)return console.log(`[ÁÖßÁâá] ÂΩìÂâçËßíËâ≤"${e}"‰∏çÂú®ËßíËâ≤ÂàóË°®‰∏≠`),void(Be.value='');const o=$e(e,l);if(console.log(`[ÁÖßÁâá] ËßíËâ≤Á¥¢Âºï: ${l}, ËßíËâ≤Âêç: "${e}", ÂõæÁâáÂêç: "${o}"`),Ce.value.has(o)){const t=Ce.value.get(o);if(ie.value!==e)return void console.log('[ÁÖßÁâá] ‚ö†Ô∏è Áî®Êà∑Â∑≤ÂàáÊç¢ËßíËâ≤ÔºåÊîæÂºÉËÆæÁΩÆÊóßÂõæÁâá');if(t&&t.length>0){if(!De.value.has(o)){const e=Math.floor(Math.random()*t.length);De.value.set(o,e)}const e=De.value.get(o)||0;return Be.value=t[e],void console.log(`[ÁÖßÁâá] ${o}: ‰ªéÈ¢ÑÂä†ËΩΩÁºìÂ≠òÂä†ËΩΩ ‚ö° (ÂÖ±${t.length}Âº†ÔºåÊòæÁ§∫Á¨¨${e+1}Âº†)`)}}const a=await ce(o);if(ie.value!==e)return console.log(`[ÁÖßÁâá] ?? Áî®Êà∑Â∑≤ÂàáÊç¢ËßíËâ≤Ôºà${ie.value}ÔºâÔºåÊîæÂºÉËÆæÁΩÆ"${e}"ÁöÑÂõæÁâá`),void(a&&a.startsWith('blob:')&&URL.revokeObjectURL(a));if(a){Be.value=a,console.log(`[ÁÖßÁâá] ${o}: Âä†ËΩΩÊàêÂäü`);const e=Ce.value.get(o)||[];e.includes(a)||Ce.value.set(o,[...e,a]),De.value.has(o)||De.value.set(o,0),t(o,0,30).then(e=>{if(!e.length)return;const t=Array.from(new Set([...Ce.value.get(o)||[],...e]));Ce.value.set(o,t)}).catch(()=>{})}else Be.value='',console.log(`[ÁÖßÁâá] ${o}: ÊöÇÊó†ÂõæÁâáÔºåÊöÇ‰∏çÊòæÁ§∫`)}finally{Ve.value=!0}},Ie=(0,l.computed)(()=>({'üéÇ Âπ¥ÈæÑ':be.value?.Âπ¥ÈæÑ,'üíº Ë∫´‰ªΩ':be.value?.Ë∫´‰ªΩ,'ü§ù ÂÖ≥Á≥ª':be.value?.‰∏éuserÂÖ≥Á≥ª,'üìç ‰ΩçÁΩÆ':be.value?.ÊâÄÂ§Ñ‰ΩçÁΩÆ})),Me=(0,l.computed)(()=>({'üëî Ë°£ÁùÄ':be.value?.Ë°£ÁùÄ,'üå∏ ËÉ∏‰π≥':be.value?.ËÉ∏‰π≥,'üëô ÂÜÖË°£':be.value?.ÂÜÖË°£,'üîí ÁßÅÂ§Ñ':be.value?.ÁßÅÂ§Ñ,'üë† ÈûãË¢ú':be.value?.ÈûãË¢ú})),Re=async()=>{try{const e='function'==typeof getCurrentMessageId,t='function'==typeof getLastMessageId;if(!('function'==typeof getChatMessages))return void console.warn('[ÈÖíÈ¶ÜÂä©Êâã] Êé•Âè£Êú™Âä†ËΩΩ');let o=null;if(e){const e=getCurrentMessageId();if(e){const t=getChatMessages(e);o=t&&t.length>0?t[0]:null}}else if(t){const e=getLastMessageId();if(e){const t=getChatMessages(e);o=t&&t.length>0?t[0]:null}}o?.data?.stat_data&&(console.log('[ÈÖíÈ¶ÜÂä©Êâã] ÊàêÂäüËé∑ÂèñÊï∞ÊçÆ'),re.value=o.data.stat_data,await(0,l.nextTick)(),!ie.value&&fe.value.length>0&&(console.log(`[ÈªòËÆ§] Ëá™Âä®ÈÄâ‰∏≠Á¨¨‰∏Ä‰∏™ËßíËâ≤: "${fe.value[0]}"`),ie.value=fe.value[0]),await(0,l.nextTick)(),Ae())}catch(e){console.warn('Êï∞ÊçÆÂêåÊ≠•Â§±Ë¥•:',e)}},Ue=()=>{Re(),ve.value=!0;const e=document.querySelector('.refresh-btn');e?.classList.add('spinning'),setTimeout(()=>{e?.classList.remove('spinning'),ve.value=!1},1e3)},_e=()=>{ve.value=!1,console.log('[ÁÖßÁâá] ‚úÖ ÂõæÁâáÂä†ËΩΩÊàêÂäüÂπ∂ÊòæÁ§∫Âú®È°µÈù¢‰∏≠'),(0,l.nextTick)(()=>setTimeout(Ae,100))},je=e=>{ve.value=!1;const l=e.target;console.warn('[ÁÖßÁâá] ‚ö†Ô∏è È°µÈù¢ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•Ôºà‰ΩÜÁºìÂ≠ò‰∏≠Â≠òÂú®ËØ•ÂõæÁâáURLÔºâ:',{src:l.src.substring(0,50)+'...',reason:'Blob URL ÂèØËÉΩÂ∑≤Ë¢´ÈáäÊîæÊàñÊµèËßàÂô®ÁéØÂ¢ÉÂèòÂåñ'});const o=fe.value.indexOf(ie.value),a=$e(ie.value,o);if(console.log('[ÁÖßÁâá] üîÑ Ê∏ÖÈô§ IndexedDB ÁºìÂ≠òÂπ∂‰ªéÁΩëÁªúÈáçÊñ∞Âä†ËΩΩ...'),ae){const e=ae.transaction(['images'],'readwrite').objectStore('images').delete(a);e.onsuccess=()=>{console.log(`[ÁÖßÁâá] üóëÔ∏è Â∑≤Âà†Èô§ "${a}" ÁöÑÁºìÂ≠òÊï∞ÊçÆ`)},e.onerror=()=>{console.warn(`[ÁÖßÁâá] ‚ö†Ô∏è Âà†Èô§ÁºìÂ≠òÂ§±Ë¥•: ${a}`)}}t(a,0,30).then(e=>{if(0===e.length)return void console.error(`[ÁÖßÁâá] ‚ùå Êó†Ê≥ï‰ªéÁΩëÁªúÂä†ËΩΩ "${a}"`);const t=Math.floor(Math.random()*e.length),l=e[t];console.log('[ÁÖßÁâá] ‚úÖ ‰ªéÁΩëÁªúÊàêÂäüÂä†ËΩΩÔºåËÆæÁΩÆ‰∏∫ Blob URL...'),Be.value=l,e.forEach((e,l)=>{l!==t&&URL.revokeObjectURL(e)}),fetch(l).then(e=>e.blob()).then(e=>{e.size>0&&(console.log('[ÁÖßÁâá] üíæ ÈáçÊñ∞‰øùÂ≠òÂà∞ IndexedDB...'),ne(a,e))}).catch(e=>console.warn('[ÁÖßÁâá] ‰øùÂ≠òÂà∞ IndexedDB Â§±Ë¥•:',e))}).catch(e=>{console.error('[ÁÖßÁâá] ‚ùå ‰ªéÁΩëÁªúÈáçÊñ∞Âä†ËΩΩÂ§±Ë¥•:',e)})},Oe=()=>{ue.value=!ue.value},Te=async()=>{const e=$e(ie.value,fe.value.indexOf(ie.value));let l=Ne.value,o=l?.images||[],a=l?.currentIndex||0;if(!l||!l.hasMultiple){const n=await t(e,0,30).catch(()=>[]);if(!n||!n.length)return void console.log('[ÁÖßÁâá] ÂΩìÂâçËßíËâ≤Âè™Êúâ‰∏ÄÂº†ÂõæÁâáÊàñÊú™Âä†ËΩΩÔºåÊó†Ê≥ïÂàáÊç¢');{const t=Array.from(new Set([...Ce.value.get(e)||[],...n]));Ce.value.set(e,t),De.value.set(e,De.value.get(e)??0),o=t,a=De.value.get(e)||0,l={imageKey:e,images:o,currentIndex:a,total:o.length,hasMultiple:o.length>1}}}const n=((a||0)+1)%o.length;De.value.set(e,n),Be.value=o[n],console.log(`[ÁÖßÁâá] ?? ÂàáÊç¢ÂõæÁâá: ${e} (Á¨¨${n+1}/${o.length}Âº†)`);const c=document.querySelector('.photo-frame');c&&(c.classList.add('photo-clicked'),setTimeout(()=>{c.classList.remove('photo-clicked')},300))},Ae=()=>{se.value&&requestAnimationFrame(()=>{const e=se.value?.scrollHeight||300,t=Math.max(e,300)+20;window.parent&&window.parent!==window&&window.parent.postMessage({type:'adjustIframeHeight',height:t,scriptId:'status-bar'},'*')})};let ze=null;return(0,l.onMounted)(async()=>{Re(),'function'==typeof eventOn&&'undefined'!=typeof tavern_events&&(eventOn(tavern_events.MESSAGE_UPDATED,Re),eventOn(tavern_events.MESSAGE_RECEIVED,Re),eventOn(tavern_events.CHAT_CHANGED,Re)),se.value&&'undefined'!=typeof ResizeObserver&&(ze=new ResizeObserver(()=>Ae()),ze.observe(se.value),ze.observe(document.body)),document.documentElement.setAttribute('data-theme',de.value);const e=(0,l.watch)(()=>re.value.ËßíËâ≤,async t=>{t&&Object.keys(t).length>0&&ie.value&&((async()=>{if(pe.value)return void console.log('[È¢ÑÂä†ËΩΩ] ‚ö†Ô∏è Â∑≤ÊúâÈ¢ÑÂä†ËΩΩ‰ªªÂä°Âú®ËøõË°å‰∏≠ÔºåË∑≥Ëøá');pe.value=!0,me.value=0;const e=fe.value.length;ge.value=31*e,console.log(`[È¢ÑÂä†ËΩΩ] üöÄ ÂºÄÂßãÊô∫ËÉΩÂàÜÊâπÈ¢ÑÂä†ËΩΩ (ÂÖ±${e}‰∏™ËßíËâ≤, È¢ÑËÆ°${ge.value}Âº†ÂõæÁâá)`);try{he.value='È¶ñÂ±èÂä†ËΩΩ‰∏≠',console.log('[È¢ÑÂä†ËΩΩ] üì¶ Á¨¨1ÊâπÔºöÈôÜÂâØÂéÇÈïøÂÖ®ÈÉ®ÂõæÁâáÔºàÁ´ãÂç≥Ôºâ');const e=fe.value.indexOf(fe.value[0]);if(-1!==e){const t=$e(fe.value[0],e);await Le(t,0,30)}setTimeout(async()=>{if(pe.value){he.value='Âø´ÈÄüÂàáÊç¢ÂáÜÂ§á‰∏≠',console.log('[È¢ÑÂä†ËΩΩ] üì¶ Á¨¨2ÊâπÔºöÂÖ∂‰ªñËßíËâ≤Ââç5Âº†ÔºàÂª∂Ëøü3ÁßíÔºâ');for(let e=1;e<fe.value.length;e++){const t=fe.value[e],l=$e(t,e);await Le(l,0,4)}setTimeout(async()=>{if(pe.value){he.value='ÂÆåÊï¥ÂõæÂ∫ìÂä†ËΩΩ‰∏≠',console.log('[È¢ÑÂä†ËΩΩ] üì¶ Á¨¨3ÊâπÔºöÂÖ∂‰ªñËßíËâ≤Ââ©‰ΩôÂõæÁâáÔºàÂª∂Ëøü10ÁßíÔºâ');for(let e=1;e<fe.value.length;e++){const t=fe.value[e],l=$e(t,e);await Le(l,5,30)}pe.value=!1,he.value='Âä†ËΩΩÂÆåÊàê',console.log(`[È¢ÑÂä†ËΩΩ] ‚úÖ ÂÖ®ÈÉ®Âä†ËΩΩÂÆåÊàêÔºÅÂÖ±Âä†ËΩΩ ${me.value} Âº†ÂõæÁâá`),setTimeout(()=>{he.value=''},3e3)}},7e3)}},3e3)}catch(e){console.error('[È¢ÑÂä†ËΩΩ] ‚ùå Êô∫ËÉΩÂàÜÊâπÈ¢ÑÂä†ËΩΩÂ§±Ë¥•:',e),pe.value=!1,he.value='Âä†ËΩΩÂ§±Ë¥•'}})().catch(e=>{console.error('[È¢ÑÂä†ËΩΩ] ÂêØÂä®Â§±Ë¥•:',e)}),e())},{immediate:!0});(0,l.watch)(ie,e=>{e&&fe.value.length>0&&Se()})}),(0,l.onUnmounted)(()=>{if(ze&&ze.disconnect(),xe&&(clearTimeout(xe),xe=null),Be.value&&Be.value.startsWith('blob:'))try{URL.revokeObjectURL(Be.value),console.log('[Ê∏ÖÁêÜ] ‚úÖ Â∑≤ÈáäÊîæÂΩìÂâçÊòæÁ§∫ÁöÑ Blob URL')}catch(e){console.warn('[Ê∏ÖÁêÜ] ‚ö†Ô∏è ÈáäÊîæÂΩìÂâç Blob URL Â§±Ë¥•:',e)}Ce.value.forEach(e=>{try{URL.revokeObjectURL(e)}catch(e){console.warn('[Ê∏ÖÁêÜ] ‚ö†Ô∏è ÈáäÊîæÈ¢ÑÂä†ËΩΩÁºìÂ≠ò Blob URL Â§±Ë¥•:',e)}}),Ce.value.clear(),ae&&(ae.close(),console.log('[Ê∏ÖÁêÜ] Â∑≤ÂÖ≥Èó≠ IndexedDB ËøûÊé•')),console.log('[Ê∏ÖÁêÜ] Â∑≤ÈáäÊîæÊâÄÊúâ Blob URL ÂíåËµÑÊ∫ê')}),(0,l.watch)(ie,()=>{(0,l.nextTick)(Ae)}),(0,l.watch)(de,e=>{localStorage.setItem('tavern_helper_theme',e),document.documentElement.setAttribute('data-theme',e),(0,l.nextTick)(Ae)}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('main',{class:'glass-container','data-theme':de.value,ref_key:'containerRef',ref:se},[(0,l.createCommentVNode)(' È°∂ÈÉ®ÂäüËÉΩÂå∫ '),(0,l.createElementVNode)('header',a,[(0,l.createElementVNode)('div',{class:'header-content'},[t[6]||(t[6]=(0,l.createElementVNode)('h2',{class:'section-title'},[(0,l.createElementVNode)('span',{class:'icon-pulse'},'üìä'),(0,l.createElementVNode)('span',{class:'title-text'},'Áä∂ÊÄÅÁõëËßÜÂô®')],-1)),(0,l.createElementVNode)('div',{class:'header-actions'},[(0,l.createElementVNode)('button',{class:'icon-btn refresh-btn',onClick:Ue,title:'Âº∫Âà∂Âà∑Êñ∞Êï∞ÊçÆ'},[...t[4]||(t[4]=[(0,l.createElementVNode)('span',null,'üîÑ',-1)])]),(0,l.createElementVNode)('button',{class:'icon-btn theme-toggle',onClick:Oe,title:'ÊòæÁ§∫ËÆæÁΩÆ'},[...t[5]||(t[5]=[(0,l.createElementVNode)('span',{class:'gear-icon'},'‚öôÔ∏è',-1)])])])]),(0,l.createCommentVNode)(' ‚ú® Âä†ËΩΩËøõÂ∫¶Êù° '),(0,l.createVNode)(l.Transition,{name:'fade-slide'},{default:(0,l.withCtx)(()=>[pe.value||he.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',n,[(0,l.createElementVNode)('div',c,[t[7]||(t[7]=(0,l.createElementVNode)('span',{class:'progress-icon'},'üì¶',-1)),(0,l.createElementVNode)('span',s,(0,l.toDisplayString)(he.value||'Âä†ËΩΩ‰∏≠'),1),(0,l.createElementVNode)('span',r,(0,l.toDisplayString)(me.value)+' / '+(0,l.toDisplayString)(ge.value),1)]),(0,l.createElementVNode)('div',i,[(0,l.createElementVNode)('div',{class:'progress-fill',style:(0,l.normalizeStyle)({width:me.value/ge.value*100+'%'})},null,4)])])):(0,l.createCommentVNode)('v-if',!0)]),_:1}),(0,l.createCommentVNode)(' Âü∫Á°Ä‰ø°ÊÅØÂç°Áâá '),(0,l.createElementVNode)('div',u,[(0,l.createElementVNode)('div',d,[(0,l.createElementVNode)('div',v,[t[9]||(t[9]=(0,l.createElementVNode)('span',{class:'icon'},'üìñ',-1)),(0,l.createElementVNode)('div',m,[t[8]||(t[8]=(0,l.createElementVNode)('span',{class:'label'},'ÂΩìÂâçÁ´†ËäÇ',-1)),(0,l.createElementVNode)('span',g,(0,l.toDisplayString)(re.value.Á´†ËäÇ||'Á≠âÂæÖÊï∞ÊçÆ...'),1)])]),(0,l.createElementVNode)('div',p,[t[11]||(t[11]=(0,l.createElementVNode)('span',{class:'icon'},'üïê',-1)),(0,l.createElementVNode)('div',h,[t[10]||(t[10]=(0,l.createElementVNode)('span',{class:'label'},'‰∏ñÁïåÊó∂Èó¥',-1)),(0,l.createElementVNode)('span',f,(0,l.toDisplayString)(re.value.Êó∂Èó¥||'Êú™Áü•Êó∂Èó¥'),1)])]),(0,l.createElementVNode)('div',E,[t[13]||(t[13]=(0,l.createElementVNode)('span',{class:'icon'},'üìç',-1)),(0,l.createElementVNode)('div',N,[t[12]||(t[12]=(0,l.createElementVNode)('span',{class:'label'},'ÂΩìÂâçÂú∞ÁÇπ',-1)),(0,l.createElementVNode)('span',V,(0,l.toDisplayString)(re.value.ÂΩìÂâçÂú∞ÁÇπ||'Êú™Áü•Âú∞ÁÇπ'),1)])])]),(0,l.createCommentVNode)(' ËßíËâ≤ÁÖßÁâáÂå∫ '),(0,l.createElementVNode)('div',y,[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['photo-frame',{'has-photo':Be.value&&ye.value,loading:ve.value||!ye.value}]),onClick:Te},[ve.value||!ye.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',k)):(0,l.createCommentVNode)('v-if',!0),Be.value?((0,l.openBlock)(),(0,l.createElementBlock)('img',{key:1,src:Be.value,alt:ie.value,class:'char-photo',onError:je,onLoad:_e},null,40,b)):ye.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',w,[...t[14]||(t[14]=[(0,l.createElementVNode)('span',{class:'placeholder-icon'},'üë§',-1),(0,l.createElementVNode)('span',{class:'placeholder-text'},'NO IMAGE',-1)])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',B,[...t[15]||(t[15]=[(0,l.createElementVNode)('span',{class:'placeholder-icon'},'‚è≥',-1),(0,l.createElementVNode)('span',{class:'placeholder-text'},'LOADING...',-1)])]))],2),(0,l.createElementVNode)('div',x,[(0,l.createElementVNode)('span',C,(0,l.toDisplayString)(we(ie.value||'Êú™Áü•ËßíËâ≤')),1),(0,l.createElementVNode)('span',{class:(0,l.normalizeClass)(['char-status-dot',{active:Ee.value}])},null,2),(0,l.createCommentVNode)(' ‚ú® ÂõæÁâáËÆ°Êï∞ÊòæÁ§∫ '),Ne.value&&Ne.value.hasMultiple?((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:0,class:'image-counter',title:`ÁÇπÂáªÂõæÁâáÂàáÊç¢ÔºàÂÖ±${Ne.value.total}Âº†Ôºâ`},(0,l.toDisplayString)(Ne.value.currentIndex+1)+'/'+(0,l.toDisplayString)(Ne.value.total),9,D)):(0,l.createCommentVNode)('v-if',!0)])])])]),(0,l.createCommentVNode)(' ËßíËâ≤ËØ¶ÊÉÖÂå∫ '),(0,l.createElementVNode)('section',L,[(0,l.createCommentVNode)(' ËØ¶ÊÉÖÂÜÖÂÆπ '),(0,l.createVNode)(l.Transition,{name:'fade-slide',mode:'out-in'},{default:(0,l.withCtx)(()=>[be.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:ie.value,class:'tab-content'},[(0,l.createElementVNode)('div',S,[(0,l.createCommentVNode)(' ‰∫∫Áâ©ÈÄâÊã©Âç°Áâá - ÂÖ®ÂÆΩ '),(0,l.createElementVNode)('div',I,[t[16]||(t[16]=(0,l.createElementVNode)('h3',null,'üë• ‰∫∫Áâ©ÈÄâÊã©',-1)),(0,l.createElementVNode)('nav',M,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(ke.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:fe.value[t],class:(0,l.normalizeClass)(['tab-button',{active:fe.value[t]===ie.value}]),onClick:e=>(async e=>{console.log(`[ÂàáÊç¢] üí´ ÂàáÊç¢ËßíËâ≤: "${e}"`),ve.value=!0;try{ie.value=e;const t=fe.value.indexOf(e),l=$e(e,t);if(Ce.value.has(l)){const e=Ce.value.get(l);if(e&&e.length>0){if(!De.value.has(l)){const t=Math.floor(Math.random()*e.length);De.value.set(l,t)}const t=De.value.get(l)||0;return Be.value=e[t],console.log(`[ÂàáÊç¢] ‚ö° ‰ΩøÁî®È¢ÑÂä†ËΩΩÁöÑÂõæÁâáÔºåÈõ∂Âª∂ËøüÂàáÊç¢ÂÆåÊàê (ÂÖ±${e.length}Âº†ÔºåÊòæÁ§∫Á¨¨${t+1}Âº†)`),void(ve.value=!1)}}await Se(),console.log(`[ÂàáÊç¢] ‚úÖ ÂàáÊç¢ÂÆåÊàê: "${e}"`)}catch(e){console.error('[ÂàáÊç¢] ‚ùå ÂàáÊç¢Â§±Ë¥•:',e)}finally{ve.value=!1,(0,l.nextTick)(Ae)}})(fe.value[t])},[(0,l.createTextVNode)((0,l.toDisplayString)(e)+' ',1),(0,l.createCommentVNode)(' ‚úÖ ÊòæÁ§∫Ê∏ÖÁêÜÂêéÁöÑÂêçÂ≠ó ')],10,R))),128))])]),(0,l.createCommentVNode)(' ÂøÉÁêÜ‰∏éÂßøÊÄÅ (ÂÖ®ÂÆΩ) '),be.value.ÂΩìÂâçÊÉ≥Ê≥ï?((0,l.openBlock)(),(0,l.createElementBlock)('div',U,[t[17]||(t[17]=(0,l.createElementVNode)('h3',null,'üí≠ ÂÜÖÂøÉÊÉ≥Ê≥ï',-1)),(0,l.createElementVNode)('div',j,(0,l.toDisplayString)(be.value.ÂΩìÂâçÊÉ≥Ê≥ï),1)])):(0,l.createCommentVNode)('v-if',!0),be.value.ÂßøÂäø?((0,l.openBlock)(),(0,l.createElementBlock)('div',O,[t[18]||(t[18]=(0,l.createElementVNode)('h3',null,'üèÉ ÂΩìÂâçÂßøÊÄÅ',-1)),(0,l.createElementVNode)('div',T,(0,l.toDisplayString)(be.value.ÂßøÂäø),1)])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' Âü∫Á°ÄÂ±ûÊÄß '),(0,l.createElementVNode)('div',A,[t[19]||(t[19]=(0,l.createElementVNode)('h3',null,'üìã Áä∂ÊÄÅÈù¢Êùø',-1)),(0,l.createElementVNode)('div',P,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Ie.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'detail-item',key:t},[(0,l.createElementVNode)('span',F,(0,l.toDisplayString)(t.replace(/^[^\u4e00-\u9fa5]+/,'')),1),(0,l.createElementVNode)('span',G,(0,l.toDisplayString)(e||'--'),1)]))),128))])]),(0,l.createCommentVNode)(' Â§ñËßÇÁâπÂæÅ '),(0,l.createElementVNode)('div',H,[t[20]||(t[20]=(0,l.createElementVNode)('h3',null,'üë§ Â§ñËßÇÁâπÂæÅ',-1)),(0,l.createElementVNode)('div',K,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Me.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'appearance-item',key:t},[(0,l.createElementVNode)('div',q,(0,l.toDisplayString)(t.replace(/^[^\u4e00-\u9fa5]+/,'')),1),(0,l.createElementVNode)('div',W,(0,l.toDisplayString)(e||'--'),1)]))),128))])])])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',J,[t[21]||(t[21]=(0,l.createElementVNode)('div',{class:'empty-icon'},'üì°',-1)),ye.value?((0,l.openBlock)(),(0,l.createElementBlock)('p',X,'ËØ∑ÈÄâÊã©‰∏Ä‰∏™ËßíËâ≤')):((0,l.openBlock)(),(0,l.createElementBlock)('p',Q,'Âä†ËΩΩ‰∏≠...')),ye.value?((0,l.openBlock)(),(0,l.createElementBlock)('small',Z,'ÁÇπÂáª‰∏äÊñπÈÄâÈ°πÂç°Êü•ÁúãËßíËâ≤‰ø°ÊÅØ')):((0,l.openBlock)(),(0,l.createElementBlock)('small',Y,'Ê≠£Âú®ÂêåÊ≠•ÈÖíÈ¶ÜÊï∞ÊçÆ'))]))]),_:1})]),(0,l.createCommentVNode)(' ËÆæÁΩÆÂºπÁ™ó '),(0,l.createVNode)(l.Transition,{name:'fade'},{default:(0,l.withCtx)(()=>[ue.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:0,class:'modal-overlay',onClick:t[3]||(t[3]=e=>ue.value=!1)},[(0,l.createElementVNode)('div',{class:'modal-content glass-panel',onClick:t[2]||(t[2]=(0,l.withModifiers)(()=>{},['stop']))},[(0,l.createElementVNode)('div',ee,[t[22]||(t[22]=(0,l.createElementVNode)('h3',null,'ÁïåÈù¢ËÆæÁΩÆ',-1)),(0,l.createElementVNode)('button',{class:'btn-close',onClick:t[0]||(t[0]=e=>ue.value=!1)},'√ó')]),(0,l.createElementVNode)('div',te,[t[24]||(t[24]=(0,l.createElementVNode)('label',null,'üé® ‰∏ªÈ¢òÈ£éÊ†º',-1)),(0,l.withDirectives)((0,l.createElementVNode)('select',{'onUpdate:modelValue':t[1]||(t[1]=e=>de.value=e)},[...t[23]||(t[23]=[(0,l.createElementVNode)('option',{value:'default'},'‚ú® ÊûÅÂÖâÁéªÁíÉ (ÈªòËÆ§)',-1),(0,l.createElementVNode)('option',{value:'dark'},'üåë Ê∑±Á©∫ÂπΩËìù',-1),(0,l.createElementVNode)('option',{value:'classic_vintage'},'üìú ÁæäÁöÆÂç∑ËΩ¥',-1)])],512),[[l.vModelSelect,de.value]])])])])):(0,l.createCommentVNode)('v-if',!0)]),_:1})],8,o))}});var oe=function l(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,l),n.exports}(400);const ae=(0,oe.A)(le,[['__scopeId','data-v-e5e0b8ce']]);$(()=>{const e=document.getElementById('app');if(sessionStorage.getItem('status_bar_loaded'))console.log('[Áä∂ÊÄÅÊ†è] Â∑≤Â≠òÂú®ÔºåË∑≥ËøáÈáçÂ§çÂä†ËΩΩ');else if(e){const t=(0,l.createApp)(ae);t.mount(e),sessionStorage.setItem('status_bar_loaded','true'),console.log('LingDong: Vue App Mounted Successfully.'),$(window).on('pagehide',()=>{t.unmount(),console.log('LingDong: Vue App Unmounted.'),sessionStorage.removeItem('status_bar_loaded')})}else console.error('LingDong: Mount point #app not found!')});
//# sourceMappingURL=index.js.map</script><style>.header-section[data-v-e5e0b8ce]{display:flex;flex-direction:column;gap:16px}.header-content[data-v-e5e0b8ce]{display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid var(--glass-border)}.section-title[data-v-e5e0b8ce]{display:flex;align-items:center;gap:12px;margin:0}.section-title .icon-pulse[data-v-e5e0b8ce]{font-size:1.4em;animation:pulse-e5e0b8ce 3s infinite ease-in-out}.section-title .title-text[data-v-e5e0b8ce]{font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,var(--c-text-main) 0%,var(--c-text-sub) 100%);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.header-actions[data-v-e5e0b8ce]{display:flex;gap:8px}.progress-bar-container[data-v-e5e0b8ce]{margin-top:12px;padding:10px 14px;background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:var(--radius-md);animation:slideDown-e5e0b8ce .3s ease-out}.progress-info[data-v-e5e0b8ce]{display:flex;align-items:center;gap:10px;margin-bottom:8px;font-size:.85rem;color:var(--c-text-sub)}.progress-info .progress-icon[data-v-e5e0b8ce]{font-size:1.1rem;animation:pulse-e5e0b8ce 2s infinite}.progress-info .progress-text[data-v-e5e0b8ce]{flex:1;font-weight:600;color:var(--c-text-main)}.progress-info .progress-count[data-v-e5e0b8ce]{font-size:.8rem;font-weight:500;padding:2px 8px;background:var(--glass-panel);border-radius:12px;border:1px solid var(--glass-border)}.progress-bar[data-v-e5e0b8ce]{height:6px;background:var(--glass-panel);border-radius:3px;overflow:hidden;position:relative}.progress-bar .progress-fill[data-v-e5e0b8ce]{height:100%;background:linear-gradient(90deg,var(--c-primary),hsl(var(--hue-primary),80%,70%));border-radius:3px;transition:width .3s ease-out;position:relative;overflow:hidden}.progress-bar .progress-fill[data-v-e5e0b8ce]::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);animation:shimmer-e5e0b8ce 1.5s infinite}@keyframes slideDown-e5e0b8ce{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes shimmer-e5e0b8ce{to{left:100%}}.fade-slide-enter-active[data-v-e5e0b8ce],.fade-slide-leave-active[data-v-e5e0b8ce]{transition:all .3s ease}.fade-slide-enter-from[data-v-e5e0b8ce]{opacity:0;transform:translateY(-10px)}.fade-slide-leave-to[data-v-e5e0b8ce]{opacity:0;transform:translateY(-10px)}.icon-btn[data-v-e5e0b8ce]{width:36px;height:36px;border-radius:50%;border:1px solid var(--glass-border);background:var(--glass-panel);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s var(--ease-spring);font-size:1.1rem}.icon-btn[data-v-e5e0b8ce]:hover{background:var(--c-primary);border-color:var(--c-primary);transform:translateY(-2px);box-shadow:0 4px 12px var(--glass-shadow)}.icon-btn:hover span[data-v-e5e0b8ce]{filter:brightness(2)}.icon-btn.spinning span[data-v-e5e0b8ce]{animation:spin-e5e0b8ce 1s linear infinite}.info-layout[data-v-e5e0b8ce]{display:grid;grid-template-columns:2fr 1fr;gap:24px;align-items:start}@media (max-width:700px){.info-layout[data-v-e5e0b8ce]{grid-template-columns:1fr;grid-template-areas:"info" "photo"}.info-layout .photo-section[data-v-e5e0b8ce]{grid-area:photo;flex-direction:column;align-items:center;justify-content:center;gap:12px;width:100%}.info-layout .global-info-bar[data-v-e5e0b8ce]{grid-area:info}.info-layout .photo-frame[data-v-e5e0b8ce]{width:100%;max-width:520px;aspect-ratio:3/4;min-height:clamp(220px,34vw,420px);max-height:420px;margin:0 auto}}.global-info-bar[data-v-e5e0b8ce]{display:flex;flex-direction:column;gap:16px}.info-item[data-v-e5e0b8ce]{display:flex;align-items:center;gap:14px;padding:14px 18px;background:var(--glass-bg);border-radius:var(--radius-md);border:1px solid var(--glass-border);transition:transform .2s}.info-item[data-v-e5e0b8ce]:hover{transform:translateX(4px);background:var(--glass-highlight)}.info-item .icon[data-v-e5e0b8ce]{font-size:1.4rem}.info-item .info-content[data-v-e5e0b8ce]{display:flex;flex-direction:column}.info-item .label[data-v-e5e0b8ce]{font-size:.7rem;color:var(--c-text-mute);text-transform:uppercase;letter-spacing:.05em}.info-item .text[data-v-e5e0b8ce]{font-weight:600;color:var(--c-text-main)}.photo-section[data-v-e5e0b8ce]{display:flex;flex-direction:column;align-items:center;gap:14px;padding-top:4px}.photo-frame[data-v-e5e0b8ce]{width:100%;aspect-ratio:.67;max-height:450px;border-radius:var(--radius-lg);overflow:hidden;border:3px solid var(--glass-border);position:relative;background:var(--glass-panel);box-shadow:var(--glass-shadow);transition:all .3s;cursor:pointer}.photo-frame.has-photo[data-v-e5e0b8ce]{border-color:var(--c-primary)}.photo-frame.photo-clicked[data-v-e5e0b8ce]{animation:photoClick-e5e0b8ce .3s ease-out}.photo-frame .char-photo[data-v-e5e0b8ce]{width:100%;height:100%;object-fit:contain;transition:transform .5s}.photo-frame:hover .char-photo[data-v-e5e0b8ce]{transform:scale(1.05)}.photo-frame.has-photo[data-v-e5e0b8ce]::after{content:"ÁÇπÂáªÂàáÊç¢";position:absolute;top:8px;right:8px;padding:4px 10px;background:rgba(0,0,0,.6);color:#fff;font-size:.7rem;border-radius:12px;opacity:0;transition:opacity .3s;pointer-events:none}.photo-frame.has-photo[data-v-e5e0b8ce]:hover::after{opacity:1}.photo-frame .photo-placeholder[data-v-e5e0b8ce]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--c-text-mute);background:linear-gradient(135deg,var(--glass-bg) 0%,var(--glass-panel) 100%)}.photo-frame .photo-placeholder .placeholder-icon[data-v-e5e0b8ce]{font-size:3rem;opacity:.4}.photo-frame .photo-placeholder .placeholder-text[data-v-e5e0b8ce]{font-size:.75rem;font-weight:700;margin-top:8px;opacity:.6;letter-spacing:.1em}.photo-frame .loading-spinner[data-v-e5e0b8ce]{position:absolute;inset:0;background:hsla(0,0%,100%,.5);backdrop-filter:blur(2px);z-index:2}.photo-frame .loading-spinner[data-v-e5e0b8ce]::after{content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;border:2px solid var(--c-primary);border-top-color:rgba(0,0,0,0);border-radius:50%;animation:spin-e5e0b8ce 1s linear infinite;margin:-10px 0 0 -10px}.photo-caption[data-v-e5e0b8ce]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.photo-caption .char-name[data-v-e5e0b8ce]{font-weight:700;font-size:1rem;color:var(--c-text-main)}.photo-caption .char-status-dot[data-v-e5e0b8ce]{width:8px;height:8px;border-radius:50%;background:var(--c-text-mute)}.photo-caption .char-status-dot.active[data-v-e5e0b8ce]{background:hsl(var(--hue-success),80%,60%);box-shadow:0 0 8px hsl(var(--hue-success),80%,60%)}.photo-caption .image-counter[data-v-e5e0b8ce]{margin-left:auto;padding:2px 8px;font-size:.75rem;font-weight:600;color:var(--c-text-sub);background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:12px;transition:all .3s}.photo-caption .image-counter[data-v-e5e0b8ce]:hover{background:var(--c-primary);color:#fff;border-color:var(--c-primary);transform:scale(1.05)}.tabs-nav[data-v-e5e0b8ce]{display:flex;gap:8px;overflow-x:auto;padding:4px}.tabs-nav[data-v-e5e0b8ce]::-webkit-scrollbar{height:0}.tabs-nav .tab-button[data-v-e5e0b8ce]{padding:6px 16px;border-radius:20px;border:1px solid rgba(0,0,0,0);background:rgba(0,0,0,0);color:var(--c-text-sub);font-size:.9rem;cursor:pointer;white-space:nowrap;transition:all .3s}.tabs-nav .tab-button[data-v-e5e0b8ce]:hover{background:var(--glass-highlight)}.tabs-nav .tab-button.active[data-v-e5e0b8ce]{background:var(--c-primary);color:#fff;box-shadow:0 4px 12px hsla(var(--hue-primary),80%,60%,0.3);font-weight:600}@media (max-width:520px){.tabs-nav[data-v-e5e0b8ce]{flex-wrap:wrap;justify-content:flex-start;row-gap:6px}.tabs-nav .tab-button[data-v-e5e0b8ce]{font-size:.85rem;padding:5px 12px;min-width:96px;flex:1 1 46%;text-align:center}}.dashboard-header[data-v-e5e0b8ce]{display:flex;align-items:center;justify-content:space-between;margin-bottom:calc(var(--space-unit)*1.5);padding-bottom:var(--space-unit);border-bottom:1px solid var(--glass-border)}.dashboard-header h2[data-v-e5e0b8ce]{margin-bottom:0}.dashboard-header .badge[data-v-e5e0b8ce]{font-size:.85rem;padding:4px 12px;background:var(--c-primary);color:#fff;border-radius:20px;font-weight:600;box-shadow:0 4px 12px hsla(var(--hue-primary),60%,50%,0.3)}.info-grid[data-v-e5e0b8ce]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--space-unit);align-items:stretch}@media (min-width:600px){.info-grid .card.two-column-split[data-v-e5e0b8ce]:first-child{grid-column:1}.info-grid .card.two-column-split[data-v-e5e0b8ce]:last-child{grid-column:2}}@media (max-width:599px){.info-grid .card.two-column-split[data-v-e5e0b8ce]{grid-column:1/-1}}@media (max-width:540px){.header-content[data-v-e5e0b8ce]{flex-direction:column;align-items:flex-start;gap:8px}.header-actions[data-v-e5e0b8ce]{width:100%;justify-content:flex-end}.progress-bar-container[data-v-e5e0b8ce]{padding:8px 10px}.info-layout[data-v-e5e0b8ce]{gap:14px}.info-item[data-v-e5e0b8ce]{padding:12px 14px}.photo-section[data-v-e5e0b8ce]{gap:8px}.photo-caption .char-name[data-v-e5e0b8ce]{font-size:.95rem}.tabs-nav[data-v-e5e0b8ce]{gap:6px}.tabs-nav .tab-button[data-v-e5e0b8ce]{padding:6px 10px;font-size:.82rem;min-height:36px}.card[data-v-e5e0b8ce]{padding:12px;min-height:120px}.text-box[data-v-e5e0b8ce]{font-size:.9rem}}.card[data-v-e5e0b8ce]{background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:var(--radius-md);padding:16px;display:flex;flex-direction:column;justify-content:center;min-height:140px;height:100%;transition:all .3s var(--ease-spring);position:relative;overflow:hidden}.card[data-v-e5e0b8ce]:hover{transform:translateY(-4px) scale(1.01);background:var(--glass-highlight);box-shadow:0 12px 24px -8px hsla(220,20%,10%,.1);border-color:var(--c-primary);z-index:1}.card.full-width[data-v-e5e0b8ce]{grid-column:1/-1;min-height:auto;padding:calc(var(--space-unit)*1.5)}.card h3[data-v-e5e0b8ce]{font-size:.85rem;color:var(--c-text-mute);margin:0 0 12px 0;text-transform:uppercase;letter-spacing:.05em;font-weight:600}.card .value[data-v-e5e0b8ce]{font-family:var(--font-sans);font-size:2.2rem;font-weight:800;background:linear-gradient(135deg,var(--c-text-main) 0%,var(--c-primary) 100%);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);line-height:1.1}.card.highlight[data-v-e5e0b8ce]{flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,var(--glass-panel) 0%,hsla(var(--hue-primary),30%,90%,0.4) 100%)}.card.highlight .card-icon[data-v-e5e0b8ce]{font-size:2.5rem;opacity:.8;filter:drop-shadow(0 4px 8px rgba(0,0,0,0.1))}.card.highlight .card-data[data-v-e5e0b8ce]{text-align:right}:root[data-theme=dark] .status-bar-container .card[data-v-e5e0b8ce]:hover{background:hsla(220,20%,20%,.6)}:root[data-theme=dark] .status-bar-container .card.highlight[data-v-e5e0b8ce]{background:linear-gradient(135deg,var(--glass-panel) 0%,hsla(var(--hue-primary),30%,20%,0.4) 100%)}.character-selector-card .tabs-nav[data-v-e5e0b8ce]{margin-top:8px;margin-bottom:0}.text-box[data-v-e5e0b8ce]{padding:12px;border-radius:var(--radius-sm);font-size:.95rem;line-height:1.6}.text-box.thought[data-v-e5e0b8ce]{background:var(--bg-thought);color:var(--text-thought);border-left:3px solid var(--text-thought)}.text-box.action[data-v-e5e0b8ce]{background:var(--bg-action);color:var(--text-action);font-style:italic;border-left:3px solid var(--text-action)}.detail-list[data-v-e5e0b8ce],.appearance-list[data-v-e5e0b8ce]{display:flex;flex-direction:column;gap:8px}.detail-item[data-v-e5e0b8ce],.appearance-item[data-v-e5e0b8ce]{display:flex;justify-content:space-between;padding:4px 0;border-bottom:1px dashed var(--glass-border)}.detail-item[data-v-e5e0b8ce]:last-child,.appearance-item[data-v-e5e0b8ce]:last-child{border-bottom:none}.detail-item .label[data-v-e5e0b8ce],.detail-item .appearance-label[data-v-e5e0b8ce],.appearance-item .label[data-v-e5e0b8ce],.appearance-item .appearance-label[data-v-e5e0b8ce]{font-size:.85rem;color:var(--c-text-mute);font-weight:500;line-height:1.4}.detail-item .value[data-v-e5e0b8ce],.detail-item .appearance-text[data-v-e5e0b8ce],.appearance-item .value[data-v-e5e0b8ce],.appearance-item .appearance-text[data-v-e5e0b8ce]{font-size:1rem;font-weight:600;text-align:right;line-height:1.4}.detail-item .value[data-v-e5e0b8ce],.appearance-item .value[data-v-e5e0b8ce]{background:linear-gradient(135deg,var(--c-text-main) 0%,var(--c-primary) 100%);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.detail-item .appearance-text[data-v-e5e0b8ce],.appearance-item .appearance-text[data-v-e5e0b8ce]{background:linear-gradient(135deg,var(--c-text-main) 0%,var(--c-primary) 100%);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.empty-state[data-v-e5e0b8ce]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;color:var(--c-text-mute)}.empty-state .empty-icon[data-v-e5e0b8ce]{font-size:3rem;margin-bottom:10px;opacity:.5}.modal-overlay[data-v-e5e0b8ce]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;background:rgba(0,0,0,.45);backdrop-filter:blur(6px);z-index:999}.modal-content[data-v-e5e0b8ce]{width:min(92vw,360px);background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);padding:18px;color:var(--c-text-main)}.modal-header[data-v-e5e0b8ce]{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:12px}.modal-header h3[data-v-e5e0b8ce]{margin:0;font-size:1.05rem}.btn-close[data-v-e5e0b8ce]{width:30px;height:30px;border:1px solid var(--glass-border);border-radius:50%;background:var(--glass-panel);cursor:pointer;font-size:1rem;line-height:1;display:grid;place-items:center;transition:all .2s}.btn-close[data-v-e5e0b8ce]:hover{background:var(--c-primary);color:#fff;border-color:var(--c-primary)}.form-group[data-v-e5e0b8ce]{display:flex;flex-direction:column;gap:6px}.form-group label[data-v-e5e0b8ce]{font-weight:600;color:var(--c-text-sub)}.form-group select[data-v-e5e0b8ce]{border:1px solid var(--glass-border);border-radius:var(--radius-sm);padding:8px 10px;background:var(--glass-panel);color:var(--c-text-main);outline:none}.form-group select[data-v-e5e0b8ce]:focus{border-color:var(--c-primary);box-shadow:0 0 0 2px hsla(var(--hue-primary),80%,60%,0.15)}@keyframes spin-e5e0b8ce{to{transform:rotate(360deg)}}@keyframes pulse-e5e0b8ce{0%,100%{opacity:1}50%{opacity:.5}}@keyframes photoClick-e5e0b8ce{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}
:root{--hue-primary:215;--hue-success:150;--hue-warning:35;--hue-danger:350;--c-primary:hsl(var(--hue-primary) 90% 60%);--c-primary-hover:hsl(var(--hue-primary) 95% 55%);--c-primary-dark:hsl(var(--hue-primary) 85% 45%);--c-bg-body:hsl(220 20% 98%);--c-bg-input:hsl(220 15% 96%);--font-sans:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,'Noto Sans SC',sans-serif;--text-base:18px;--text-base-mobile:16px;--text-scale-ratio:1.25;--c-text-main:hsl(220 25% 20%);--c-text-sub:hsl(220 20% 35%);--c-text-mute:hsl(220 15% 55%);--c-text-light:hsl(220 10% 85%);--accent-info:hsl(var(--hue-primary) 90% 60%);--accent-warm:hsl(var(--hue-warning) 90% 60%);--accent-danger:hsl(var(--hue-danger) 90% 60%);--glass-panel:hsla(220,15%,95%,0.7);--glass-highlight:hsla(0,0%,100%,0.8);--text-thought:hsl(var(--hue-primary) 60% 35%);--bg-thought:hsla(var(--hue-primary) 50% 95%/0.6);--text-action:hsl(var(--hue-danger) 60% 35%);--bg-action:hsla(var(--hue-danger) 50% 95%/0.6);--glass-bg:hsla(0,0%,100%,0.75);--glass-border:hsla(0,0%,100%,0.6);--glass-highlight:hsla(0,0%,100%,0.8);--glass-shadow:0 8px 32px -4px hsla(220,20%,10%,0.08),0 2px 4px 0 hsla(220,20%,10%,0.02);--glass-blur:28px;--glass-saturate:190%;--radius-xl:28px;--radius-lg:20px;--radius-md:14px;--radius-sm:8px;--space-base:5px;--space-unit:calc(var(--space-base) * 4);--ease-spring:cubic-bezier(0.34,1.56,0.64,1);--ease-out-expo:cubic-bezier(0.16,1,0.3,1);--ease-smooth:cubic-bezier(0.4,0,0.2,1)}:root[data-theme=dark]{--c-primary:hsl(var(--hue-primary) 85% 65%);--c-text-main:hsl(220 10% 98%);--c-text-sub:hsl(220 10% 75%);--c-text-mute:hsl(220 10% 55%);--c-text-light:hsl(220 10% 35%);--glass-bg:hsla(220,30%,10%,0.75);--glass-border:hsla(0,0%,100%,0.1);--glass-highlight:hsla(0,0%,100%,0.15);--glass-panel:hsla(220,15%,15%,0.7);--glass-shadow:0 12px 48px hsla(0,0%,0%,0.5);--text-thought:hsl(var(--hue-primary) 70% 75%);--bg-thought:hsla(var(--hue-primary) 30% 20%/0.6);--text-action:hsl(var(--hue-danger) 70% 75%);--bg-action:hsla(var(--hue-danger) 30% 20%/0.6)}:root[data-theme=classic_vintage]{--hue-primary:35;--c-primary:hsl(35 90% 35%);--c-text-main:hsl(30 20% 20%);--c-text-sub:hsl(30 15% 40%);--c-text-mute:hsl(30 15% 60%);--c-text-light:hsl(30 15% 70%);--glass-bg:hsla(40,30%,94%,0.9);--glass-border:hsla(35,50%,40%,0.15);--glass-highlight:hsla(40,50%,98%,0.8);--glass-panel:hsla(40,20%,90%,0.8);--glass-shadow:0 4px 12px hsla(30,20%,10%,0.08);--glass-blur:8px;--glass-saturate:100%;--font-sans:'Merriweather','Georgia',serif;--text-thought:hsl(35 60% 25%);--bg-thought:hsla(35,40% 90%/0.8);--text-action:hsl(30 60% 25%);--bg-action:hsla(30,40% 90%/0.8)}.status-bar-container{all:initial;display:block;font-family:var(--font-sans);color:var(--c-text-main);font-size:var(--text-base);line-height:1.75;letter-spacing:-0.01em;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0;padding:var(--space-unit)}.status-bar-container *,.status-bar-container *::before,.status-bar-container *::after{box-sizing:border-box;margin:0;padding:0}.status-bar-container h1,.status-bar-container h2,.status-bar-container h3,.status-bar-container .text-display{font-weight:700;line-height:1.2;margin-bottom:calc(var(--space-unit)*.75);color:var(--c-text-main)}.status-bar-container h1{font-size:calc(var(--text-base)*2.5)}.status-bar-container h2{font-size:calc(var(--text-base)*1.75)}.status-bar-container h3{font-size:calc(var(--text-base)*1.25)}.status-bar-container p{margin-bottom:var(--space-unit)}.status-bar-container small,.status-bar-container .text-sm{font-size:.85em;color:var(--c-text-sub)}.status-bar-container ::-webkit-scrollbar{width:6px;height:6px}.status-bar-container ::-webkit-scrollbar-thumb{background:var(--c-text-mute);border-radius:10px;background-clip:content-box;border:1px solid rgba(0,0,0,0);opacity:.2}.status-bar-container ::-webkit-scrollbar-thumb:hover{background-color:var(--c-text-sub)}.status-bar-container .glass-container{position:relative;width:100%;max-width:860px;margin:0 auto;height:auto;padding:calc(var(--space-base)*7);background:var(--glass-bg);backdrop-filter:blur(var(--glass-blur)) saturate(var(--glass-saturate));-webkit-backdrop-filter:blur(var(--glass-blur)) saturate(var(--glass-saturate));border:1px solid var(--glass-border);border-top:1px solid var(--glass-highlight);box-shadow:var(--glass-shadow);border-radius:var(--radius-xl);transition:all .4s var(--ease-spring)}@media (prefers-reduced-motion:reduce){.status-bar-container *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}@media (max-width:640px){:root{--text-base:var(--text-base-mobile);--space-base:4px;--glass-blur:12px;--glass-shadow:0 6px 18px hsla(220,20%,10%,0.12)}.status-bar-container .glass-container{padding:calc(var(--space-base)*5);border-radius:var(--radius-lg)}}@media (max-width:780px){.glass-container{padding:calc(var(--space-base)*4) calc(var(--space-base)*4.5)}.glass-container .info-layout{display:flex;flex-direction:column;gap:14px}.glass-container .photo-section{order:0;align-items:center;width:100%;gap:10px}.glass-container .global-info-bar{order:1;gap:12px}.glass-container .photo-frame{width:100%;max-width:520px;aspect-ratio:3/4;min-height:clamp(240px,34vw,420px);max-height:420px;margin:0 auto}.glass-container .photo-caption{width:100%;justify-content:space-between}}@media (max-width:540px){.glass-container{padding:calc(var(--space-base)*3.5) calc(var(--space-base)*3.5)}.glass-container .photo-frame{max-width:420px;min-height:clamp(220px,38vw,360px);max-height:360px;border-width:2px}}@media (max-width:480px){:root{--text-base:15px;--space-base:3.5px;--radius-lg:16px;--radius-md:12px;--glass-blur:8px;--glass-shadow:0 4px 12px hsla(220,25%,8%,0.16)}.status-bar-container{line-height:1.6;padding:calc(var(--space-base)*4)}.status-bar-container .glass-container{padding:calc(var(--space-base)*5) calc(var(--space-base)*4);border-radius:var(--radius-lg)}.status-bar-container .global-info-bar{gap:10px}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app" class="status-bar-container"></div></body>